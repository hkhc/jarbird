<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.1">
<title data-react-helmet="true">Simple Library with Signature | Jarbird Gradle Plugin</title><meta data-react-helmet="true" property="og:url" content="https://hkhc.github.io/jarbird/docs/tutorials/samplelibsign"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Simple Library with Signature | Jarbird Gradle Plugin"><meta data-react-helmet="true" name="description" content="In this tutorial, we are going to build our minimal component with a digital signature."><meta data-react-helmet="true" property="og:description" content="In this tutorial, we are going to build our minimal component with a digital signature."><link data-react-helmet="true" rel="shortcut icon" href="/jarbird/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hkhc.github.io/jarbird/docs/tutorials/samplelibsign"><link data-react-helmet="true" rel="alternate" href="https://hkhc.github.io/jarbird/docs/tutorials/samplelibsign" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hkhc.github.io/jarbird/docs/tutorials/samplelibsign" hreflang="x-default"><link rel="stylesheet" href="/jarbird/assets/css/styles.db6bd782.css">
<link rel="preload" href="/jarbird/assets/js/runtime~main.a9135983.js" as="script">
<link rel="preload" href="/jarbird/assets/js/main.5ce00244.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP shadow--md">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/jarbird/"><img src="/jarbird/img/logo.png" alt="Jarbird Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/jarbird/img/logo.png" alt="Jarbird Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Jarbird</b></a><a class="navbar__item navbar__link" href="/jarbird/docs/intro">Introduction</a><a class="navbar__item navbar__link navbar__link--active" href="/jarbird/docs/tutorials/index">Tutorial</a><a class="navbar__item navbar__link" href="/jarbird/docs/reference/index">Reference</a><a class="navbar__item navbar__link" href="/jarbird/docs/create-account">Create Accounts</a><a class="navbar__item navbar__link" href="/jarbird/docs/build">Build</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hkhc/jarbird" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/jarbird/"><img src="/jarbird/img/logo.png" alt="Jarbird Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/jarbird/img/logo.png" alt="Jarbird Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Jarbird</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/jarbird/docs/tutorials/index">Tutorial</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/reference/index">Reference</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/create-account">Create Accounts</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/build">Build</a></li><li class="menu__list-item"><a href="https://github.com/hkhc/jarbird" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/index">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/simplelib">Simple library</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/jarbird/docs/tutorials/samplelibsign">Library with Signature</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/mavencentral">Publish to Maven Central</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/custommaven">Custom Maven repository</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/android">Android Components</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/artifactory">Custom Artifactory repository</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/gradleplugin">Gradle Plugin</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Simple Library with Signature</h1></header><p>In this tutorial, we are going to build our minimal component with a digital signature.</p><p>The sample project is <a href="https://github.com/hkhc/jarbird-samples/tree/master/simplelib-sign" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="project-setup"></a><a name="project-setup"></a>Project setup<a class="hash-link" href="#project-setup" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pomyaml"></a>pom.yaml<a class="hash-link" href="#pomyaml" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">pom.yaml</div><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> jarbirdsamples</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">artifactId</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> simplelib</span></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The version suffix <code>-SNAPSHOT</code> is removed. Then we may publish the component again.</p><p>Before you start, you may want to <a href="#gradle-home">setup</a> a temporary Gradle environment for this tutorial. Then your working environment will not be messed up.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-it-the-first-attempt"></a>Run it, the first attempt<a class="hash-link" href="#run-it-the-first-attempt" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./gradlew jbPublish                                           </span></span><span class="token-line" style="color:#393A34"><span class="token plain">Build with Groovy build script</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Fill in the property values in `gradle.properties` before build.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Task :signSimplelibPublication FAILED</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg: skipped &quot;........&quot;: No secret key</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg: signing failed: No secret key</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">FAILURE: Build failed with an exception.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">* What went wrong:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Execution failed for task &#x27;:signSimplelibPublication&#x27;.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Process &#x27;command &#x27;gpg2&#x27;&#x27; finished with non-zero exit value 2</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>It seems thing does not go well. It is because we have not set up the key used for signing the artefact.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gnupg"></a>GnuPG<a class="hash-link" href="#gnupg" title="Direct link to heading">#</a></h3><p>We need to set up a signing key pair. (If you already have it, just <a href="#project-setup">skip</a> this part) It is a one-off task, that we may reuse the key pair for all of our projects. There are various choices to do so, but we do the simplest thing here. Please refer to the <a href="/jarbird/docs/reference/pub#signing">Signing configuration</a> for other possibilities.</p><p>We need to have an implementation of GnuPG installed on our computer. There are a few choices:</p><ul><li><a href="https://gnupg.org/" target="_blank" rel="noopener noreferrer">GnuPG</a> 2.2 or above (Unix/Mac)</li><li><a href="https://gpgtools.org" target="_blank" rel="noopener noreferrer">GPGTools</a> (Mac)</li><li><a href="https://gpg4win.org" target="_blank" rel="noopener noreferrer">Gpg4win</a> (Windows).</li></ul><p>Keypair can be generated by the command <code>gpg --gen-key</code>. You need to provide your name and email address.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell-session"><pre tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --gen-key</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg (GnuPG/MacGPG2) 2.2.24; Copyright (C) 2020 Free Software Foundation, Inc.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">This is free software: you are free to change and redistribute it.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">There is NO WARRANTY, to the extent permitted by law.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Note: Use &quot;gpg --full-generate-key&quot; for a full-featured key generation dialog.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">GnuPG needs to construct a user ID to identify your key.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">Real name: Jarbird Demo</span></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">Email address: jarbird.demo@fake-email.com</span></span><span class="token-line" style="color:#393A34"><span class="token plain">You selected this USER-ID:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Jarbird Demo &lt;jarbird.demo@fake-email.com&gt;&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">Change (N)ame, (E)mail, or (O)kay/(Q)uit? O</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You will be asked for a passphrase to protect the key pair at this point. It is a passphrase to protect your keybox file. If you already have a keybox, use the same passphrase. Otherwise, create a new passphrase and keep it safe.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell-session"><pre tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">We need to generate a lot of random bytes. It is a good idea to perform</span></span><span class="token-line" style="color:#393A34"><span class="token plain">some other action (type on the keyboard, move the mouse, utilize the</span></span><span class="token-line" style="color:#393A34"><span class="token plain">disks) during the prime generation; this gives the random number</span></span><span class="token-line" style="color:#393A34"><span class="token plain">generator a better chance to gain enough entropy.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">We need to generate a lot of random bytes. It is a good idea to perform</span></span><span class="token-line" style="color:#393A34"><span class="token plain">some other action (type on the keyboard, move the mouse, utilize the</span></span><span class="token-line" style="color:#393A34"><span class="token plain">disks) during the prime generation; this gives the random number</span></span><span class="token-line" style="color:#393A34"><span class="token plain">generator a better chance to gain enough entropy.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg: key BCCF8CD8B61806FE marked as ultimately trusted</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg: revocation certificate stored as &#x27;/Users/me/.gnupg/openpgp-revocs.d/6BA0B340ABB2411040589423BCCF8CD8B61806FE.rev&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public and secret key created and signed.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pub   rsa3072 2021-05-12 [SC] [expires: 2023-05-12]</span></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">      6BA0B340ABB2411040589423BCCF8CD8B61806FE</span></span><span class="token-line" style="color:#393A34"><span class="token plain">uid                      Jarbird Demo &lt;jarbird.demo@fake-email.com&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">sub   rsa3072 2021-05-12 [E] [expires: 2023-05-12]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The generated key is identified by the key ID (that ended with <code>B61806FE</code>)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradleproperties"></a>gradle.properties<a class="hash-link" href="#gradleproperties" title="Direct link to heading">#</a></h3><p>The Jarbird plugin uses the key ID and passphrase specified in <code>gradle.properties</code>. It could be in <code>~/.gradle/gradle.properties</code> or <code>gradle.properties</code> under the project directory. We may also specify these pieces of information in environment variables, which may be more suitable for CI/CD environment.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Putting this information at <code>~/.gradle/gradle.properties</code> or environment variable is preferable to avoid putting sensitive information in a project. we put the <code>gradle.properties</code> in this project just for simplifying the demonstration.</p></div></div><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">gradle.properties</div><div class="codeBlockContent_hGly properties"><pre tabindex="0" class="prism-code language-properties codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"># ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.gnupg.keyName=B61806FE</span></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.gnupg.passphrase=your-GnuPg-passphrase</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># ...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The keyName is the last 8 characters of the key ID in the result of key generation. If you forget it, use <code>gpg --list-key</code> to find it.</p><p>The <code>gradle.properties</code> in the sample project contains these entries for your reference.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-it-the-second-attempt"></a>Run it, the second attempt<a class="hash-link" href="#run-it-the-second-attempt" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell-session"><pre tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./gradlew jbPublish</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Build with Groovy build script</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Fill in the property values in gradle.properties before build.</span></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Configure project :</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Task :jbDokkaHtmlSimplelib</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Initializing plugins</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Dokka is performing: documentation for simplelib</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Validity check</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Creating documentation models</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">WARN: The registry key &#x27;java.correct.class.type.by.place.resolve.scope&#x27; accessed, but not loaded yet</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Task :jbDokkaHtmlSimplelib</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Transforming documentation model before merging</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Merging documentation models</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Transforming documentation model after merging</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Creating pages</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Transforming pages</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Rendering</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">BUILD SUCCESSFUL in 8s</span></span><span class="token-line" style="color:#393A34"><span class="token plain">9 actionable tasks: 9 executed</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We did it successfully. The produced results are in <code>~/.m2/repository/jarbirdsamples/simplelib/1.0</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell-session"><pre tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ ls -1 ~/.m2/repository/jarbirdsamples/simplelib/1.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">simplelib-1.0-javadoc.jar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">simplelib-1.0-javadoc.jar.asc</span></span><span class="token-line" style="color:#393A34"><span class="token plain">simplelib-1.0-sources.jar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">simplelib-1.0-sources.jar.asc</span></span><span class="token-line" style="color:#393A34"><span class="token plain">simplelib-1.0.jar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">simplelib-1.0.jar.asc</span></span><span class="token-line" style="color:#393A34"><span class="token plain">simplelib-1.0.module</span></span><span class="token-line" style="color:#393A34"><span class="token plain">simplelib-1.0.module.asc</span></span><span class="token-line" style="color:#393A34"><span class="token plain">simplelib-1.0.pom</span></span><span class="token-line" style="color:#393A34"><span class="token plain">simplelib-1.0.pom.asc</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The files with the <code>.asc</code> extension are the signature file. Note that the <code>metadata-local.xml</code> file when building <code>1.0-SNAPSHOT</code> is not here. The non <code>SNAPSHOT</code> version does not need the file.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bonus-setup-temporary-gradle-environment-for-tutorial"></a>Bonus: Setup temporary Gradle environment for tutorial <a href="#gradle-home"></a><a class="hash-link" href="#bonus-setup-temporary-gradle-environment-for-tutorial" title="Direct link to heading">#</a></h2><p>We may set up an isolated Gradle environment for this tutorial. set the environment variable <code>GRADLE_USER_HOME</code> like this.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell-session"><pre tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">export GRADLE_USER_HOME=~/.gradle_jarbird_trial</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then Gradle uses the directory <code>~/.gradle_jarbird_trial</code> instead of the default <code>~/.gradle</code> for all working and caching files.</p><p>If you are using zsh shell, you may want to enable <a href="https://github.com/zpm-zsh/autoenv" target="_blank" rel="noopener noreferrer"><code>autoenv</code> plugin</a> so that it is done automatically.</p><p>In this sample, we have set up the environment variable in the <code>.in</code> file and undo it in the <code>.out</code> file.</p><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">.in</div><div class="codeBlockContent_hGly shell-session"><pre tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"># setup GRADLE_USER_HOME automatically for https://github.com/zpm-zsh/autoenv</span></span><span class="token-line" style="color:#393A34"><span class="token plain">export GRADLE_USER_HOME=~/.gradle_jarbird_trial</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">.out</div><div class="codeBlockContent_hGly shell-session"><pre tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"># setup GRADLE_USER_HOME automatically for https://github.com/zpm-zsh/autoenv</span></span><span class="token-line" style="color:#393A34"><span class="token plain">unset GRADLE_USER_HOME</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>It may take a while to use this alternate environment to build the Gradle project for the first time. It will load the Gradle itself, and all plugin and library dependencies for this project.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/hkhc/jarbird-docs/docs/tutorials/samplelibsign.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/jarbird/docs/tutorials/simplelib"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Simple library</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/jarbird/docs/tutorials/mavencentral"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Publish to Maven Central Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-setup" class="table-of-contents__link"><a name="project-setup"></a>Project setup</a><ul><li><a href="#pomyaml" class="table-of-contents__link">pom.yaml</a></li><li><a href="#run-it-the-first-attempt" class="table-of-contents__link">Run it, the first attempt</a></li><li><a href="#gnupg" class="table-of-contents__link">GnuPG</a></li><li><a href="#gradleproperties" class="table-of-contents__link">gradle.properties</a></li><li><a href="#run-it-the-second-attempt" class="table-of-contents__link">Run it, the second attempt</a></li></ul></li><li><a href="#bonus-setup-temporary-gradle-environment-for-tutorial" class="table-of-contents__link">Bonus: Setup temporary Gradle environment for tutorial <a href="#gradle-home"></a></a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/jarbird/docs/tutorials/index">Tutorial</a></li><li class="footer__item"><a href="https://github.com/hkhc/jarbird-samples" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sample Code</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://hkhc.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">HKHC</a></li><li class="footer__item"><a href="https://github.com/hkhc" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 HKHC. Built with Docusaurus.</div></div></div></footer></div>
<script src="/jarbird/assets/js/runtime~main.a9135983.js"></script>
<script src="/jarbird/assets/js/main.5ce00244.js"></script>
</body>
</html>