<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/jarbird/blog/rss.xml" title="Jarbird Gradle Plugin Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/jarbird/blog/atom.xml" title="Jarbird Gradle Plugin Blog Atom Feed"><title data-react-helmet="true">Simple Library with Signature | Jarbird Gradle Plugin</title><meta data-react-helmet="true" property="og:url" content="https://hkhc.github.io/jarbird/docs/tutorials/samplelibsign"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Simple Library with Signature | Jarbird Gradle Plugin"><meta data-react-helmet="true" name="description" content="In this tutorial we are going to build out minimal component with digital"><meta data-react-helmet="true" property="og:description" content="In this tutorial we are going to build out minimal component with digital"><link data-react-helmet="true" rel="shortcut icon" href="/jarbird/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hkhc.github.io/jarbird/docs/tutorials/samplelibsign"><link data-react-helmet="true" rel="alternate" href="https://hkhc.github.io/jarbird/docs/tutorials/samplelibsign" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hkhc.github.io/jarbird/docs/tutorials/samplelibsign" hreflang="x-default"><link rel="stylesheet" href="/jarbird/assets/css/styles.976fae36.css">
<link rel="preload" href="/jarbird/assets/js/runtime~main.76e49beb.js" as="script">
<link rel="preload" href="/jarbird/assets/js/main.dd3809f5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/jarbird/"><img src="/jarbird/img/logo.png" alt="Jarbird Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/jarbird/img/logo.png" alt="Jarbird Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Jarbird</strong></a><a class="navbar__item navbar__link" href="/jarbird/docs/intro">Introduction</a><a class="navbar__item navbar__link navbar__link--active" href="/jarbird/docs/tutorials/index">Tutorial</a><a class="navbar__item navbar__link" href="/jarbird/docs/reference">Reference</a><a class="navbar__item navbar__link" href="/jarbird/docs/create-account">Create Accounts</a><a class="navbar__item navbar__link" href="/jarbird/docs/build">Build</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hkhc/jarbird" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/jarbird/"><img src="/jarbird/img/logo.png" alt="Jarbird Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/jarbird/img/logo.png" alt="Jarbird Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Jarbird</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/jarbird/docs/tutorials/index">Tutorial</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/reference">Reference</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/create-account">Create Accounts</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/build">Build</a></li><li class="menu__list-item"><a href="https://github.com/hkhc/jarbird" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/index">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/simplelib">Simple library</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/jarbird/docs/tutorials/samplelibsign">Library with Signature</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/mavencentral">Publish to Maven Central</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/custommaven">Custom Maven repository</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/android">Android Components</a></li><li class="menu__list-item"><a class="menu__link" href="/jarbird/docs/tutorials/gradleplugin">Gradle Plugin</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Simple Library with Signature</h1></header><div class="markdown"><p>In this tutorial we are going to build out minimal component with digital
signature.</p><p>The sample project is [here](<a href="https://github." target="_blank" rel="noopener noreferrer">https://github.</a>
com/hkhc/jarbird-samples/tree/master/simplelib-sign).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gnupg"></a>GnuPG<a class="hash-link" href="#gnupg" title="Direct link to heading">#</a></h2><p>First we need to set up signing key pair. (If you already have it, just
<a href="#project-setup">skip</a> this part) It is a one off task, that we may reuse
the key pair for all of our projects. There are various choices to do so,
but we do the simplest thing here. Please refer to the &quot;Signing
configuration&quot; (TODO) for other possibilities.</p><p>We need to have an implementation of GnuPG installed on our computer. There are a few choices:</p><ul><li><a href="https://gnupg.org/" target="_blank" rel="noopener noreferrer">GnuPG</a> 2.2 or above (Unix/Mac)</li><li><a href="https://gpgtools.org" target="_blank" rel="noopener noreferrer">GPGTools</a> (Mac)</li><li><a href="https://gpg4win.org" target="_blank" rel="noopener noreferrer">Gpg4win</a> (Windows).</li></ul><p>Keypair can be generated by the command <code>gpg --gen-key</code>. We need to provide name and email address.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell-session"><div tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">$ gpg --gen-key</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">gpg (GnuPG/MacGPG2) 2.2.24; Copyright (C) 2020 Free Software Foundation, Inc.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">This is free software: you are free to change and redistribute it.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">There is NO WARRANTY, to the extent permitted by law.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Note: Use &quot;gpg --full-generate-key&quot; for a full featured key generation dialog.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">GnuPG needs to construct a user ID to identify your key.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line docusaurus-highlight-code-line" style="color:rgb(36, 41, 46)"><span class="token plain">Real name: Jarbird Demo</span></div><div class="token-line docusaurus-highlight-code-line" style="color:rgb(36, 41, 46)"><span class="token plain">Email address: jarbird.demo@fake-email.com</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">You selected this USER-ID:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    &quot;Jarbird Demo &lt;jarbird.demo@fake-email.com&gt;&quot;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line docusaurus-highlight-code-line" style="color:rgb(36, 41, 46)"><span class="token plain">Change (N)ame, (E)mail, or (O)kay/(Q)uit? O</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You will be asked for a passphrase to protect the key pair at this point. It
is passphrase of your keybox file. If you already have it, use the same passphrase. Otherwise, create a new passphrase and keep it safe.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell-session"><div tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">We need to generate a lot of random bytes. It is a good idea to perform</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">some other action (type on the keyboard, move the mouse, utilize the</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">disks) during the prime generation; this gives the random number</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">generator a better chance to gain enough entropy.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">We need to generate a lot of random bytes. It is a good idea to perform</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">some other action (type on the keyboard, move the mouse, utilize the</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">disks) during the prime generation; this gives the random number</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">generator a better chance to gain enough entropy.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">gpg: key BCCF8CD8B61806FE marked as ultimately trusted</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">gpg: revocation certificate stored as &#x27;/Users/me/.gnupg/openpgp-revocs.d/6BA0B340ABB2411040589423BCCF8CD8B61806FE.rev&#x27;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">public and secret key created and signed.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">pub   rsa3072 2021-05-12 [SC] [expires: 2023-05-12]</span></div><div class="token-line docusaurus-highlight-code-line" style="color:rgb(36, 41, 46)"><span class="token plain">      6BA0B340ABB2411040589423BCCF8CD8B61806FE</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">uid                      Jarbird Demo &lt;jarbird.demo@fake-email.com&gt;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">sub   rsa3072 2021-05-12 [E] [expires: 2023-05-12]</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">$</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The generated key is identified by the key ID (that ended with <code>B61806FE</code>)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="project-setup"></a><a name="project-setup"></a>Project setup<a class="hash-link" href="#project-setup" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gradleproperties"></a>gradle.properties<a class="hash-link" href="#gradleproperties" title="Direct link to heading">#</a></h3><p>The build script is configured to use the key ID and passphrease by putting them in gradle.properties. It could be the <code>~/.gradle/gradle.properties</code> or <code>gradle.properties</code> under the project directory.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>However, putting this information at <code>~/.gradle/gradle.properties</code> is
preferable to avoid putting sensitive information in project.</p><p>TODO CI/CD</p></div></div><div class="codeBlockContainer_K1bP"><div style="color:rgb(36, 41, 46);background-color:#f6f8fa" class="codeBlockTitle_eoMF">~/.gradle/gradle.properties</div><div class="codeBlockContent_hGly properties"><div tabindex="0" class="prism-code language-properties codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"># ...</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">signing.gnupg.keyName=B61806FE</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">signing.gnupg.passphrase=your-GnuPg-passphrase</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"># ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The keyName is the last 8 characters of the key ID in the result of key generation. If you forget it, use <code>gpg --list-key</code> to find it.</p><p>Now we have key pair, then we may update the component version in <code>pom.yaml</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pomyaml"></a>pom.yaml<a class="hash-link" href="#pomyaml" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div style="color:rgb(36, 41, 46);background-color:#f6f8fa" class="codeBlockTitle_eoMF">pom.yaml</div><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token key atrule">group</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> jarbirdsamples</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">artifactId</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> simplelib</span></div><div class="token-line docusaurus-highlight-code-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">version</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token number">1.0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The version suffix <code>-SNAPSHOT</code> is removed. Then we may publish the component again:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-it"></a>Run it<a class="hash-link" href="#run-it" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell-session"><div tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">$ ./gradlew jbPublish</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">&gt; Configure project :</span></div><div class="token-line docusaurus-highlight-code-line" style="color:rgb(36, 41, 46)"><span class="token plain">WARNING: [io.hkhc.jarbird] Setting to use gpg keyring file but signing gpg keybox  configuration is found. Switch to use gpg keybox</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">&gt; Task :jbDokkaHtmlSimplelib</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Initializing plugins</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Dokka is performing: documentation for simplelib</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Validity check</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Creating documentation models</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WARN: The registry key &#x27;java.correct.class.type.by.place.resolve.scope&#x27; accessed, but not loaded yet</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">&gt; Task :jbDokkaHtmlSimplelib</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Transforming documentation model before merging</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Merging documentation models</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Transforming documentation model after merging</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Creating pages</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Transforming pages</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Rendering</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">BUILD SUCCESSFUL in 8s</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">9 actionable tasks: 9 executed</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Then we complete component publishing.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="get-rid-of-gnupg-warning"></a>Get rid of GnuPG warning<a class="hash-link" href="#get-rid-of-gnupg-warning" title="Direct link to heading">#</a></h3><p>We have a warning indicates that Jarbird expects to find the old style keyring
file, but not found. So it tries to find the signing key pair in newer keybox file.
To get rid of the warning, we may tell Jarbird explicitly that we want to use
keybox file. This can be done by updating the <code>build.gradle</code> file.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Groovy</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div style="color:rgb(36, 41, 46);background-color:#f6f8fa" class="codeBlockTitle_eoMF">build.gradle</div><div class="codeBlockContent_hGly groovy"><div tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// ...</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">jarbird {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    pub {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        mavenLocal()</span></div><div class="token-line docusaurus-highlight-code-line" style="color:rgb(36, 41, 46)"><span class="token plain">        useGpg = true</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div style="color:rgb(36, 41, 46);background-color:#f6f8fa" class="codeBlockTitle_eoMF">build.gradle.kts</div><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// ...</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">jarbird {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    pub {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        mavenLocal()</span></div><div class="token-line docusaurus-highlight-code-line" style="color:rgb(36, 41, 46)"><span class="token plain">        useGpg = true</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div></div><p>Then we have clean result without such warning.</p><p>Nevertheless, the produced results are the same, in <code>~/.me/repository/jarbirdsamples/simplelib/1.0</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell-session"><div tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">$ ls -1 ~/.m2/repository/jarbirdsamples/simplelib/1.0</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">simplelib-1.0-javadoc.jar</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">simplelib-1.0-javadoc.jar.asc</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">simplelib-1.0-sources.jar</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">simplelib-1.0-sources.jar.asc</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">simplelib-1.0.jar</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">simplelib-1.0.jar.asc</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">simplelib-1.0.module</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">simplelib-1.0.module.asc</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">simplelib-1.0.pom</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">simplelib-1.0.pom.asc</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The files with <code>.asc</code> extension are the signature file.
Note that the <code>metadata-local.xml</code> file when building <code>1.0-SNAPSHOT</code> is not
here. The non <code>SNAPSHOT</code> version does not need the file.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="in-case-i-forget-to-configure-signing-key"></a>In case I forget to configure signing key<a class="hash-link" href="#in-case-i-forget-to-configure-signing-key" title="Direct link to heading">#</a></h2><p>The sample project <code>simplelib-sign</code> illustrates the publishing of signed component.
Add your signing key configuration in gradle.properties before run. If there is no
key configuration provided, and the publication is not SNAPSHOT version, then
the following warning is shown when doing <code>./gradlew jbPublish</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell-session"><div tabindex="0" class="prism-code language-shell-session codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WARNING: [io.hkhc.jarbird] No signing setting is provided. Signing operation is ignored. Maven Central publishing cannot be done without signing the artifacts.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WARNING: [io.hkhc.jarbird] Signing configuration for keybox file is not complete. Signing operation is ignored. Maven Central publishing cannot be done without signing the artifacts.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/hkhc/jarbird-docs/docs/tutorials/samplelibsign.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/jarbird/docs/tutorials/simplelib"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Simple library - A minimal demo</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/jarbird/docs/tutorials/mavencentral"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Publish to Maven Central Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#gnupg" class="table-of-contents__link">GnuPG</a></li><li><a href="#project-setup" class="table-of-contents__link"><a name="project-setup"></a>Project setup</a><ul><li><a href="#gradleproperties" class="table-of-contents__link">gradle.properties</a></li><li><a href="#pomyaml" class="table-of-contents__link">pom.yaml</a></li><li><a href="#run-it" class="table-of-contents__link">Run it</a></li><li><a href="#get-rid-of-gnupg-warning" class="table-of-contents__link">Get rid of GnuPG warning</a></li></ul></li><li><a href="#in-case-i-forget-to-configure-signing-key" class="table-of-contents__link">In case I forget to configure signing key</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/jarbird/docs/tutorials/index">Tutorial</a></li><li class="footer__item"><a href="https://github.com/hkhc/jarbird-samples" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sample Code</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://hkhc.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">HKHC</a></li><li class="footer__item"><a href="https://github.com/hkhc" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 HKHC. Built with Docusaurus.</div></div></div></footer></div>
<script src="/jarbird/assets/js/runtime~main.76e49beb.js"></script>
<script src="/jarbird/assets/js/main.dd3809f5.js"></script>
</body>
</html>